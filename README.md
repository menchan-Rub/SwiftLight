# SwiftLight プログラミング言語

SwiftLightは、メモリ安全性、並行処理、高性能を重視した現代的なプログラミング言語です。

## 特徴

- **メモリ安全性**: 所有権システムによるコンパイル時のメモリ安全性保証
- **モダンな構文**: クリーンで読みやすく、表現力豊かな構文
- **高速な実行速度**: LLVMバックエンドによる最適化されたネイティブコード生成
- **強力な型システム**: 静的型付けと型推論によるコンパイル時の安全性と表現力
- **クロスプラットフォーム**: 主要なプラットフォームで動作
- **並行処理**: 軽量プロセスと組み込まれた並行プリミティブ
- **統合型システム**: 依存型、量子型、時相型を統合した世界最先端の型システム

## インストール

まだ開発初期段階のため、公式のインストーラーは提供していません。ソースからビルドするには：

```bash
git clone https://github.com/menchan-Rub/swiftlight.git
cd swiftlight
cargo build --release
```

ビルド後、`target/release/swiftlight` が実行可能ファイルとして生成されます。

## 使い方

### Hello, World!

```swift
func main() {
    println("Hello, SwiftLight World!");
}
```

### コンパイルと実行

```bash
swiftlight build hello.swl
./hello
```

## 言語の特徴

- **メモリ安全性**: 所有権システムによるコンパイル時のメモリ安全性保証
- **モダンな構文**: クリーンで読みやすく、表現力豊かな構文
- **高速な実行速度**: LLVMバックエンドによる最適化されたネイティブコード生成
- **強力な型システム**: 静的型付けと型推論によるコンパイル時の安全性と表現力
- **クロスプラットフォーム**: 主要なプラットフォームで動作
- **並行処理**: 軽量プロセスと組み込まれた並行プリミティブ
- **統合型システム**: 依存型、量子型、時相型を統合した世界最先端の型システム

## 統合型システム

SwiftLightは、世界最先端の統合型システムを実装しています。主な特徴は以下の通りです：

### 依存型システム

- **精製型（Refinement Types）**: 値に制約を付ける型を定義可能
- **型レベル計算**: コンパイル時に型レベルでの計算を実行
- **定理証明支援**: 型システムによるプログラムの正当性証明

```swift
// 依存型の例：正の整数型
type PositiveInt = Int where value > 0

// 配列サイズを型レベルで管理
func getElement<N: u32>(array: Array<Int, N>, index: UInt where index < N) -> Int {
    return array[index]  // インデックス範囲外エラーが静的に防止される
}
```

### 量子型システム

- **量子資源の追跡**: 量子ビットの状態と操作を型で管理
- **量子ゲート操作の検証**: 量子操作の整合性をコンパイル時に検証
- **量子エンタングルメント追跡**: 量子もつれの関係を型システムで管理

```swift
// 量子ビット宣言
@quantum
let q1 = qubit(0);
let q2 = qubit(0);

// 量子操作（型システムが操作の有効性を検証）
H(q1);          // Hadamardゲート
CNOT(q1, q2);   // 制御NOTゲート

// 測定（型が量子状態から古典状態に変化）
let result = measure(q1);
```

### 時相型システム

- **状態遷移の検証**: オブジェクトの状態遷移を型で追跡
- **時相論理による仕様**: 時間的な振る舞いを型に組み込み
- **並行処理の安全性**: 時相型による並行処理の安全性保証

```swift
// プロトコルの時相的振る舞いを指定
@temporal
protocol Connection {
    // 状態遷移の定義
    @states { Closed, Opening, Open, Closing }
    
    // 時相論理による仕様
    @temporal_spec eventually(Closed => Open)
    
    // メソッドの状態前条件と後条件
    @requires(state == Closed)
    @ensures(state == Opening)
    func connect();
    
    @requires(state == Open)
    @ensures(state == Closed)
    func disconnect();
}
```

### 統合機能

上記の型システム技術を統合することで、以下のような高度な機能を実現しています：

- **量子アルゴリズムの正当性検証**
- **時間的性質を持つシステムの検証**
- **リソース制約のある並行システムの安全性保証**
- **高度なドメイン特化言語の構築基盤**

例えば、量子暗号プロトコルの実装において、量子操作の正当性と状態遷移の両方を型システムで検証できます。

## 開発状況

SwiftLightは現在アルファ段階にあり、活発に開発が進行中です。以下の機能が実装中または計画中です：

- [x] 字句解析器
- [x] 構文解析器
- [ ] 型チェッカー（実装中）
- [ ] コード生成（実装中）
- [ ] パッケージマネージャ（計画中）
- [ ] 標準ライブラリ（実装中）
- [ ] IDE統合（計画中）

## コントリビューション

SwiftLightへの貢献を歓迎します！コードの貢献、バグレポート、機能リクエストなど、さまざまな形で参加できます。詳細は[CONTRIBUTING.md](CONTRIBUTING.md)をご覧ください。

## ライセンス

SwiftLightはMITライセンスとApache License 2.0のデュアルライセンスで提供されています。詳細は[LICENSE](LICENSE)ファイルをご確認ください。
